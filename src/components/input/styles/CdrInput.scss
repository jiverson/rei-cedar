@import '../../../css/settings/index.scss';
@import './vars/CdrInput.vars.scss';

/* ==========================================================================
  # INPUT LABEL
  ========================================================================== */
.cdr-input--infield {
  .cdr-input__label {
    position: absolute;
    top: 6px;
    left: 6px;
    z-index: 1;
  }

  .cdr-input {
    padding-top: 30px;
    height: unset;
  }
}
.cdr-input__label {
  @include cdr-input-base-label-mixin;

  &--disabled {
    color:  $cdr-color-text-input-disabled;
  }
}

/* ==========================================================================
  # INPUT
  ========================================================================== */

.cdr-input {
  @include cdr-input-base-mixin;

  &--secondary {
    &:active {
      background-color: red;
    }
  }

  &--success {
    .cdr-input:not(:focus):not(:active) {
      // background-color: $cdr-color-background-success;
      box-shadow: inset 0 0 0 1px $cdr-color-border-success;
    }

    .cdr-input__validation-success {
      fill: $cdr-color-text-success;
      display: block;
    }

    .cdr-input__messaging {
      color: $cdr-color-text-success;
    }
  }

  &--error {
    .cdr-input:not(:focus):not(:active) {
      // background-color: $cdr-color-background-error;
      box-shadow: inset 0 0 0 1px $cdr-color-border-error;
    }

    .cdr-input__validation-error {
      fill: $cdr-color-text-error;
      display: block;
    }
// TODO: NEED to remove validation color on label when input is focus?!?!?!
// must do with javascripts? :<
    .cdr-input__messaging, .cdr-input__label, .cdr-input__required-label {
      color: $cdr-color-text-error;
    }
  }

  // &-container {
  //   background-color: pink;
  // }
  /* Style variants
    ========================================================================== */

  &--multiline {
    height: auto;
  }

  &--preicon {
    /* $input-pre-icon-default-width = 25px with the expectation that
        slot provided icon is close to that width */
    // TODO: use icon token here?
    padding-left: calc(#{$cdr-space-half-x} + #{$cdr-space-quarter-x} + 25px);
  }


  &__validation-icon {
    position: absolute;
    left: -1rem;
    bottom: -1rem;
    background-color: $cdr-color-background-primary;
    border-radius: 100%;
    border: 1px solid $cdr-color-background-primary;
    display: none;
  }

  /* Size variants
    ========================================================================== */

  &--large {
    @include cdr-input-large-mixin;
  }

  /* @xs
    0px - 767px
    ========== */
  @include cdr-xs-mq-only {
    &--large\@xs {
      @include cdr-input-large-mixin;
    }
  }

  /* @sm
    768px - 991px
    ========== */
  @include cdr-sm-mq-only {
    &--large\@sm {
      @include cdr-input-large-mixin;
    }
  }

  /* @md
    992px - 1199px
    ========== */
  @include cdr-md-mq-only {
    &--large\@md {
      @include cdr-input-large-mixin;
    }
  }

  /* @lg
    1200px and up
    ========== */

  @include cdr-lg-mq-only {
    &--large\@lg {
      @include cdr-input-large-mixin;
    }
  }

  /* Slot Sections
    ========================================================================== */

  &__pre-icon {
    position: absolute;
    top: 50%;
    left: $cdr-space-half-x;
    transform: translateY(-50%);
    fill: $cdr-color-icon-default;
  }

  &__post-icon {
    fill: $cdr-color-icon-default;
    position: absolute;
    top: 50%;
    // right: $cdr-space-half-x;
    // can you have buttons and post-icon? does post-icon even make sense?
    right: 0; // TEMPOTRARY input button trick
    transform: translateY(-50%);
  }

  &__required-label {
    @include cdr-input-required-label-mixin;
  }

  &__info-container {
    @include cdr-input-info-container-mixin;
  }

  &__helper-text {
    @include cdr-input-helper-text-mixin;
  }
}

/* ==========================================================================
   # INPUT WRAPPER
   ========================================================================== */

/* related to positioning/layout? */
.cdr-input-wrap {
  position: relative;
  display: flex;
}
